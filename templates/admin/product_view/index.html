{% extends 'admin/dashboard-template.html' %}
{% block content %}
{% load static %}
            <div class="container-fluid text-white">
               <div class="row p-t-b-10 ">
                  <div class="col">
                     <h1>Product View({{user_name}})</h1>
                  </div>
               </div>
            </div>
         </header>
         <div class="container-fluid">
           
            <div class="row p-t-b-20">
               <div class="col-md-12">
                 <!--  <div class="card no-b"> -->
              <div class="login-form-card">
                   <!-- <div class="login-form-content"> -->
                        <form action="javascript:(0);">
                          <div class="row">
                      <div class="col-md-12 mb-2">
                        <button class="btn-primary add-data"><a href="{{BASE_URL}}manage-products/add-product">Add Product</a></button>
					<button class="btn-primary import-data" data-toggle="modal" data-target="#myModal">Show Columns</button>
					<button class="btn-primary import-data">Import</button>
            </div>
            <div class="col-md-12">
                  <div class="row">
                  <div class="col-md-3">
                     <div class="slct-role-1">
              <label style="">Team &nbsp;</label>
                <input type="search" name="" class="form-control" >
                    </div>
                  </div>
                    <div class="col-md-3">
                    <div class="slct-role-2">
              <label style="">Backlog &nbsp;</label>
                <input type="search" name="" class="form-control" >
                    </div>
                  </div>
                </div>
                </div>
                </div>
                  <div class="table-responsive hdinpt">
                     <!-- <label class="switch">
                         <input type="checkbox" checked>
                         <span class="slider round"></span>
                     </label>
                     <label style="margin: 15px;">Auto Score</label> -->
                     

                                     <!-- start Table -->
                                     <table id="example" width="100%" border="1" class="table table-striped table-bordered newpage" align="center" cellpadding="0" cellspacing="0" style=" font-size: 15px;">
        <thead>
            <tr class="dnd-moved">
                <th align="left" valign="top">Priority</th>
                <th align="left" valign="top">Product Name</th>
                <th align="left" valign="top">Product Score</th>
                <th align="left" valign="top">Team</th>
                <th align="left" valign="top">Backlog</th>
                <th align="left" valign="top">Iteration</th>
                <th align="left" valign="top">Epic Capability</th>
                <th align="left" valign="top">Feature</th>
                <th align="left" valign="top">Owner</th>
                <th align="left" valign="top">Action</th>
            </tr>
        </thead>
        <tbody>


<!-- ----------------------------------------------------------------------------- -->

{% for product in product_data %}
            <tr class="dnd-moved">
              <td align="left" valign="top">{{product.Procduct_name}}</td>
                <td align="left" valign="top">{{product.Procduct_name}}</td>
                <td align="left" valign="top">
                     <div class="progress">
                         <div class="barOverflow">
                            <div class="bar"></div>
                         </div>
                         <span>{{product.Product_score}}</span>%
                     </div>
                </td>
                <!-- <td align="left" valign="top">{{product.Team_parent}}</td> -->
                <td align="left" valign="top">{{product.Team_parent.all|join:", " }}</td>
                <td align="left" valign="top">{{product.backlog_by_product.all|join:", " }}</td>
                <td align="left" valign="top">{{product.Procduct_name}} Iteration</td>

                

                <td align="left" valign="top">{{product.epic_by_product.all|join:", "}} </td>
<!--                 {% if epic.0.id == product.id %}

                {% endif %}
 -->




                 <!-- {% for epic_data in epic %}
                {% if epic_data.PROJECT_ID_id == product.id %}

                <td align="left" valign="top">{{epic_data.Cepic_key}}={{epic|length}}</td>


                {% else %}
                    <td align="left" valign="top">{{a}}</td>
                {% endif %}

                
                {% endfor %} -->




                <td align="left" valign="top">{{product.Procduct_name}} Feature</td>
                 <td align="left" valign="top">{{product.Procduct_name}} Owner</td>
                <td align="left" valign="top">
                <table width="100%" border="0" align="left" cellpadding="0" cellspacing="0">
                   <tr>
                    <td align="center" valign="top"><a href="javascript:void(0);" data-toggle="modal" data-target="#modal-default"><i class="icon-pencil"></i></a></td>
                    <td align="center" valign="top"><a href=""><i class="icon-delete"></i><a></td>
                   </tr>
                </table>
                </td>
            </tr>

            {% endfor %}

<!-- --------------------------------------------------------------------------------------- -->



<!-- 
            <tr class="dnd-moved">
              <td align="left" valign="top">7845652587</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">
                     <div class="progress">
                         <div class="barOverflow">
                            <div class="bar"></div>
                         </div>
                         <span>60</span>%
                     </div>
                </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                 <td align="left" valign="top">User 2</td>
                <td align="left" valign="top">
                <table width="100%" border="0" align="left" cellpadding="0" cellspacing="0">
                   <tr>
                    <td align="center" valign="top"><a href="javascript:void(0);" data-toggle="modal" data-target="#modal-default"><i class="icon-pencil"></i></a></td>
                    <td align="center" valign="top"><a href=""><i class="icon-delete"></i><a></td>
                   </tr>
                </table>
                </td>

            </tr>
            <tr class="dnd-moved">
              <td align="left" valign="top">8956466986</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">
                     <div class="progress">
                         <div class="barOverflow">
                            <div class="bar"></div>
                         </div>
                         <span>40</span>%
                     </div>
                </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                 <td align="left" valign="top">User 3</td>
                <td align="left" valign="top">
                <table width="100%" border="0" align="left" cellpadding="0" cellspacing="0">
                   <tr>
                    <td align="center" valign="top"><a href="javascript:void(0);" data-toggle="modal" data-target="#modal-default"><i class="icon-pencil"></i></a></td>
                    <td align="center" valign="top"><a href=""><i class="icon-delete"></i><a></td>
                   </tr>
                </table>
                </td>
            </tr>
            <tr  class="dnd-moved">
              <td align="left" valign="top">3625467896</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">
                     <div class="progress">
                         <div class="barOverflow">
                            <div class="bar"></div>
                         </div>
                         <span>20</span>%
                     </div>
                </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String </td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                <td align="left" valign="top">Text String</td>
                 <td align="left" valign="top">User 4</td>
                <td align="left" valign="top">
                <table width="100%" border="0" align="left" cellpadding="0" cellspacing="0">
                   <tr>
                    <td align="center" valign="top"><a href="javascript:void(0);" data-toggle="modal" data-target="#modal-default"><i class="icon-pencil"></i></a></td>
                    <td align="center" valign="top"><a href=""><i class="icon-delete"></i><a></td>
                   </tr>
                </table>
                </td>
            </tr>
             -->
        </tbody>
    </table>
                                     <!---Table Ends---->
</div>
                                    
                         </form>
                     <!--  </div> -->
             </div>
              <!-- </div> -->
               </div>
         </div>
         </div>
      </div>
   </div>
</div>


<!-----------------------popup------------start--------------->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content" style="margin-top:60px;">
      <div class="modal-header">
    <h4 class="modal-title" style="width: 100%;">Choose User Story View </h4>
        <button type="button" class="close" data-dismiss="modal" style="margin: 0; padding: 0 !important; color: #000 !important;">&times;</button>
      </div>
      <div class="modal-body ">
	  
			<div class="container">
				<select id="selectDefaults" multiple="multiple">
					<option value="owner">Owner</option>
					<option value="title">Title</option>
					<option value="ust">User Story Type</option>
					<option value="stpt">Story Tri Part Text</option>
					<option value="rqs">Readiness Quality Score</option>
					<option value="ecap">Epic Capability</option>
					<option value="team">Team</option>
					<option value="product">Product</option>
					<option value="feature">Feature</option>
					<option value="accri">Acceptance Criteria</option>
					<option value="conv">Conversation</option>
					<option value="autoon">AutoScoring On</option>
					<option value="backpa">Backlog parent</option>
					<option value="usst">User Story Status</option>
					<option value="acind">Archive Indicator</option>
					<option value="stpon">Story Points</option>
				</select>
			</div>
	  </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-danger getvalue" data-dismiss="modal">Submit</button>
      </div>
    </div>

  </div>
</div>
<!----------------Popup Ends---------------->




<script>
		$('.table').dragableColumns({
			drag:true,
			dragClass:'drag',
			overClass:'over',
			movedContainerSelector:'.dnd-moved'
		});
	</script>
<script type="text/javascript">
$(document).ready(function() {
    $('#example').DataTable();
} );
</script>
<script type="text/javascript">
  $(".progress").each(function(){
  
  var $bar = $(this).find(".bar");
  var $val = $(this).find("span");
  var perc = parseInt( $val.text(), 10);

  $({p:0}).animate({p:perc}, {
    duration: 3000,
    easing: "swing",
    step: function(p) {
      $bar.css({
        transform: "rotate("+ (45+(p*1.8)) +"deg)", // 100%=180° so: ° = % * 1.8
        // 45 is to add the needed rotation to have the green borders at the bottom
      });
      $val.text(p|0);
    }
  });
});
</script>
<script>
	$(".checkuser").on("click", function(){
	  $(this).parent().toggleClass("isSelected");
	});
</script>
<script>
$(document).ready(function() {
/*$('#selectDefaults').lwMultiSelect();*/
$('#selectDefaults').lwMultiSelect({
  addAllText:"Select All",
  removeAllText:"Remove All",
  selectedLabel:"Values accepted",
  maxSelect: 0,//0 = no restrictions
  maxText:'',
});
});
</script>
{% endblock %}